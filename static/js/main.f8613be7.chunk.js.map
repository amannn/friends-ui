{"version":3,"sources":["components/Line.module.css","components/Person.module.css","components/Friends.module.css","data/faces/image-2.png","data/faces/image-3.png","data/faces/image-4.png","data/faces/image-5.png","data/faces/image-6.png","data/faces/image-7.png","data/faces/image-8.png","data/faces/image-9.png","data/faces/image-10.png","data/faces/image-11.png","data/faces/image-1.png","hooks/useWindowSize.js","hooks/useNodeSize.js","utils/Easing.js","utils/MathUtils.js","components/Line.js","components/Person.js","components/UserFriend.js","components/Friends.js","hooks/useScrollToBottom.js","components/App.js","data/index.js","index.js","components/App.module.css"],"names":["module","exports","root","friend","__webpack_require__","p","getCurrentSize","innerHeight","window","innerWidth","node","offsetHeight","undefined","offsetWidth","Easing","t","MathUtils","applyRepulsion","sourceOrigin","targetOrigin","originSize","minOriginDistance","arguments","length","dx","Math","abs","x","dy","y","repulsion","sqrt","pow","newX","clamp","value","min","max","interpolateRange","_ref","_ref$inputStart","inputStart","_ref$inputEnd","inputEnd","_ref$outputStart","outputStart","_ref$outputEnd","outputEnd","current","_ref$clamp","progress","this","interpolate","radiantToDegress","radiant","PI","Line","_ref2","hideOffsetBottom","hideOffsetTop","sourceOrigin$","style","targetOrigin$","nodeRef","useRef","useEffect","subscriber","withLatestFrom","subscribe","_ref3","_ref4","Object","slicedToArray","isOutOfViewport","opacity","transform","d","degrees","atan","concat","getTransform","unsubscribe","react_default","a","createElement","className","cs","ref","propTypes","PropTypes","string","portrait","isRequired","object","size","number","Person","forwardRef","cx","objectSpread","width","height","backgroundImage","UserFriend","friendOrigin$","portraitSize","userOrigin$","userPosition","_ref5","friendOrigin","userOrigin","bottom","getOpacity","components_Person","Friends","props","friends","scrollerNode","_useState","useState","_useState2","streams","setStreams","paddingSides","offsetY","initialFriendOrigins","map","i","random","Rx","Observable","interval","Scheduler","animationFrame","left","scrollTop","friendOrigins$","friendBaseOrigin","createStreams","toConsumableArray","values","dependencies","timeoutId","setTimeout","scrollHeight","clearTimeout","useScrollToBottom","friendOrigins","react","key","id","components_UserFriend","components_Line","debug","defaultProps","App","user","userBottomMargin","rootRef","windowSize","setSize","onResize","addEventListener","removeEventListener","useWindowSize","rootSize","useLayoutEffect","useNodeSize","hasLayout","components_Friends","friendImages","require","data","Array","fill","_","element","components_App","document","getElementById","ReactDOM","createRoot","render"],"mappings":"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","file":"static/js/main.f8613be7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Line_root__3jarq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Person_root__wsqIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friends_friend__1ZL6Y\"};","module.exports = __webpack_public_path__ + \"static/media/image-2.3d6d2c45.png\";","module.exports = __webpack_public_path__ + \"static/media/image-3.1a569b91.png\";","module.exports = __webpack_public_path__ + \"static/media/image-4.2ab9702c.png\";","module.exports = __webpack_public_path__ + \"static/media/image-5.f795e502.png\";","module.exports = __webpack_public_path__ + \"static/media/image-6.9483b9d8.png\";","module.exports = __webpack_public_path__ + \"static/media/image-7.58d77a0a.png\";","module.exports = __webpack_public_path__ + \"static/media/image-8.137e95a7.png\";","module.exports = __webpack_public_path__ + \"static/media/image-9.ab93e925.png\";","module.exports = __webpack_public_path__ + \"static/media/image-10.1e97e195.png\";","module.exports = __webpack_public_path__ + \"static/media/image-11.bd3bcc26.png\";","module.exports = __webpack_public_path__ + \"static/media/image-1.ab1b22e1.png\";","import {useEffect, useState} from 'react';\n\nconst getCurrentSize = () => ({\n  innerHeight: window.innerHeight,\n  innerWidth: window.innerWidth\n});\n\nexport default function useWindowSize() {\n  const [size, setSize] = useState(getCurrentSize());\n\n  function onResize() {\n    setSize(getCurrentSize());\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', onResize);\n    return () => window.removeEventListener('resize', onResize);\n  }, []);\n\n  return size;\n}\n","import {useLayoutEffect, useState} from 'react';\n\nconst getCurrentSize = node => ({\n  offsetHeight: node ? node.offsetHeight : undefined,\n  offsetWidth: node ? node.offsetWidth : undefined\n});\n\nexport default function useNodeSize(nodeRef) {\n  const [size, setSize] = useState(getCurrentSize(nodeRef.current));\n\n  function onResize() {\n    setSize(getCurrentSize(nodeRef.current));\n  }\n\n  useLayoutEffect(\n    () => {\n      onResize();\n\n      window.addEventListener('resize', onResize);\n      return () => window.removeEventListener('resize', onResize);\n    },\n    [nodeRef]\n  );\n\n  return size;\n}\n","/**\n * Easing Functions - inspired from http://gizma.com/easing/\n * only considering the t value for the range [0, 1] => [0, 1]\n *\n * https://gist.github.com/gre/1650294\n */\nexport default {\n  // No easing, no acceleration\n  linear(t) {\n    return t;\n  },\n\n  // Accelerating from zero velocity\n  easeInQuad(t) {\n    return t * t;\n  },\n\n  // Decelerating to zero velocity\n  easeOutQuad(t) {\n    return t * (2 - t);\n  },\n\n  // Acceleration until halfway, then deceleration\n  easeInOutQuad(t) {\n    return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  },\n\n  // Accelerating from zero velocity\n  easeInCubic(t) {\n    return t * t * t;\n  },\n\n  // Decelerating to zero velocity\n  easeOutCubic(t) {\n    return --t * t * t + 1;\n  },\n\n  // Acceleration until halfway, then deceleration\n  easeInOutCubic(t) {\n    return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n  },\n\n  // Accelerating from zero velocity\n  easeInQuart(t) {\n    return t * t * t * t;\n  },\n\n  // Decelerating to zero velocity\n  easeOutQuart(t) {\n    return 1 - --t * t * t * t;\n  },\n\n  // Acceleration until halfway, then deceleration\n  easeInOutQuart(t) {\n    return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n  },\n\n  // Accelerating from zero velocity\n  easeInQuint(t) {\n    return t * t * t * t * t;\n  },\n\n  // Decelerating to zero velocity\n  easeOutQuint(t) {\n    return 1 + --t * t * t * t * t;\n  },\n\n  // Acceleration until halfway, then deceleration\n  easeInOutQuint(t) {\n    return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n  }\n};\n","import Easing from './Easing';\n\nexport default {\n  /**\n   * Pushes target away from the source on the\n   * horizontal axis so the two don't collide.\n   * @param {Object} sourceOrigin\n   * @param {Object} targetOrigin\n   * @param {Number} originSize\n   * @param {Number} minDistance\n   * @return {Object} The updated origin for the target.\n   */\n  applyRepulsion(sourceOrigin, targetOrigin, originSize, minDistance = 40) {\n    const minOriginDistance = originSize + minDistance;\n\n    const dx = Math.abs(targetOrigin.x - sourceOrigin.x);\n    const dy = Math.abs(targetOrigin.y - sourceOrigin.y);\n    const d = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n\n    let repulsion = 0;\n    if (d < minOriginDistance) {\n      const newX = Math.sqrt(Math.pow(minOriginDistance, 2) - Math.pow(dy, 2));\n      repulsion = newX - dx;\n      repulsion = Easing.easeInQuad(repulsion / originSize) * originSize;\n      if (targetOrigin.x < sourceOrigin.x) repulsion *= -1;\n    }\n\n    return {\n      y: targetOrigin.y,\n      x: targetOrigin.x + repulsion\n    };\n  },\n\n  clamp(value, min, max) {\n    if (value < min) {\n      return min;\n    } else if (value > max) {\n      return max;\n    }\n\n    return value;\n  },\n\n  interpolateRange({\n    inputStart = 0,\n    inputEnd = 1,\n    outputStart = 0,\n    outputEnd = 1,\n    current,\n    clamp = true\n  }) {\n    let progress = (current - inputStart) / (inputEnd - inputStart);\n\n    if (clamp) {\n      progress = this.clamp(progress, 0, 1);\n    }\n\n    return this.interpolate(outputStart, outputEnd, progress);\n  },\n\n  interpolate(min, max, progress) {\n    return min + (max - min) * progress;\n  },\n\n  radiantToDegress(radiant) {\n    return radiant * (180 / Math.PI);\n  }\n};\n","import React, {useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport MathUtils from '../utils/MathUtils';\nimport cs from './Line.module.css';\n\nconst propTypes = {\n  hideOffsetBottom: PropTypes.number.isRequired,\n  hideOffsetTop: PropTypes.number.isRequired,\n  sourceOrigin$: PropTypes.object.isRequired,\n  style: PropTypes.object,\n  targetOrigin$: PropTypes.object.isRequired\n};\n\nfunction getTransform({sourceOrigin, targetOrigin}) {\n  const dx = Math.abs(targetOrigin.x - sourceOrigin.x);\n  const dy = Math.abs(targetOrigin.y - sourceOrigin.y);\n  const d = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n\n  let degrees = MathUtils.radiantToDegress(Math.atan(dy / dx));\n  if (targetOrigin.y < sourceOrigin.y) degrees *= -1;\n  if (targetOrigin.x < sourceOrigin.x) degrees = 180 - degrees;\n\n  return `rotate(${degrees}deg) scaleX(${d})`;\n}\n\nconst Line = ({\n  hideOffsetBottom,\n  hideOffsetTop,\n  sourceOrigin$,\n  style,\n  targetOrigin$\n}) => {\n  const nodeRef = useRef(null);\n\n  useEffect(\n    () => {\n      const subscriber = targetOrigin$\n        .withLatestFrom(sourceOrigin$)\n        .subscribe(([targetOrigin, sourceOrigin]) => {\n          const node = nodeRef.current;\n\n          const isOutOfViewport =\n            sourceOrigin.y - targetOrigin.y > hideOffsetBottom ||\n            targetOrigin.y - sourceOrigin.y > hideOffsetTop;\n\n          node.style.opacity = isOutOfViewport ? 0 : 1;\n          if (!isOutOfViewport) {\n            node.style.transform = getTransform({sourceOrigin, targetOrigin});\n          }\n        });\n\n      return () => subscriber.unsubscribe();\n    },\n    [\n      hideOffsetBottom,\n      hideOffsetTop,\n      targetOrigin$,\n      sourceOrigin$,\n      nodeRef.current\n    ]\n  );\n\n  return <div className={cs.root} ref={nodeRef} style={style} />;\n};\n\nLine.propTypes = propTypes;\nexport default Line;\n","import React, {forwardRef} from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport cs from './Person.module.css';\n\nconst propTypes = {\n  className: PropTypes.string,\n  portrait: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  size: PropTypes.number\n};\n\nconst Person = forwardRef(({className, portrait, style, size}, ref) => (\n  <div\n    className={cx(cs.root, className)}\n    ref={ref}\n    style={{\n      ...style,\n      width: size,\n      height: size,\n      backgroundImage: `url(${portrait})`\n    }}\n  />\n));\n\nPerson.propTypes = propTypes;\nexport default Person;\n","import React, {useEffect, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport MathUtils from '../utils/MathUtils';\nimport Person from './Person';\n\nconst propTypes = {\n  className: PropTypes.string,\n  friend: PropTypes.object.isRequired,\n  friendOrigin$: PropTypes.object.isRequired,\n  portraitSize: PropTypes.number.isRequired,\n  userOrigin$: PropTypes.object.isRequired,\n  userPosition: PropTypes.object.isRequired\n};\n\nfunction getTransform({friendOrigin, portraitSize}) {\n  const x = friendOrigin.x - portraitSize / 2;\n  const y = friendOrigin.y - portraitSize / 2;\n  return `translate(${x}px, ${y}px)`;\n}\n\nfunction getOpacity({friendOrigin, portraitSize, userOrigin, userPosition}) {\n  return MathUtils.interpolateRange({\n    inputStart: userOrigin.y - portraitSize,\n    inputEnd: userOrigin.y + userPosition.bottom + portraitSize,\n    outputStart: 1,\n    outputEnd: 0,\n    current: friendOrigin.y\n  });\n}\n\nconst UserFriend = ({\n  className,\n  friend,\n  friendOrigin$,\n  portraitSize,\n  userOrigin$,\n  userPosition\n}) => {\n  const nodeRef = useRef(null);\n\n  useEffect(\n    () => {\n      const subscriber = friendOrigin$\n        .withLatestFrom(userOrigin$)\n        .subscribe(([friendOrigin, userOrigin]) => {\n          const node = nodeRef.current;\n\n          node.style.transform = getTransform({\n            friendOrigin,\n            portraitSize\n          });\n\n          node.style.opacity = getOpacity({\n            friendOrigin,\n            portraitSize,\n            userOrigin,\n            userPosition\n          });\n        });\n\n      return () => subscriber.unsubscribe();\n    },\n    [friendOrigin$, nodeRef.current, portraitSize, userOrigin$, userPosition]\n  );\n\n  return (\n    <Person\n      className={className}\n      portrait={friend.portrait}\n      ref={nodeRef}\n      size={portraitSize}\n    />\n  );\n};\n\nUserFriend.propTypes = propTypes;\nexport default UserFriend;\n","import React, {Fragment, useEffect, useState} from 'react';\nimport PropTypes from 'prop-types';\nimport Rx from 'rxjs/Rx';\nimport MathUtils from '../utils/MathUtils';\nimport useScrollToBottom from '../hooks/useScrollToBottom';\nimport Line from './Line';\nimport UserFriend from './UserFriend';\nimport cs from './Friends.module.css';\n\nconst propTypes = {\n  friends: PropTypes.array.isRequired,\n  offsetHeight: PropTypes.number,\n  offsetWidth: PropTypes.number, // eslint-disable-line react/no-unused-prop-types\n  offsetY: PropTypes.number, // eslint-disable-line react/no-unused-prop-types\n  paddingSides: PropTypes.number, // eslint-disable-line react/no-unused-prop-types\n  portraitSize: PropTypes.number.isRequired,\n  scrollerNode: PropTypes.object.isRequired,\n  userPosition: PropTypes.object.isRequired\n};\n\nconst defaultProps = {\n  paddingSides: 20,\n  offsetY: 40\n};\n\nfunction createStreams({\n  friends,\n  paddingSides,\n  portraitSize,\n  offsetWidth,\n  offsetY,\n  scrollerNode,\n  userPosition,\n  offsetHeight\n}) {\n  // Friends are distributed alternately on the\n  // left and right side with some randomization.\n  const initialFriendOrigins = friends.map((friend, i) => {\n    let x =\n      paddingSides +\n      portraitSize / 2 +\n      Math.random() * (offsetWidth / 2 - paddingSides * 2 - portraitSize);\n    if (i % 2 !== 0) x += offsetWidth / 2;\n    const y = (i + 1) * (portraitSize + offsetY);\n\n    return {x, y};\n  });\n\n  // Reading `scrollTop` every animation frame is more accurate than listening\n  // for scroll events, as those are only dispatched on a \"best effort\" basis.\n  const userOrigin$ = Rx.Observable\n    .interval(0, Rx.Scheduler.animationFrame)\n    .map(() => ({\n      x: userPosition.left + portraitSize / 2,\n      y:\n        scrollerNode.scrollTop +\n        offsetHeight -\n        userPosition.bottom -\n        portraitSize / 2\n    }));\n\n  const friendOrigins$ = userOrigin$.map(userOrigin =>\n    initialFriendOrigins.map(friendBaseOrigin =>\n      MathUtils.applyRepulsion(userOrigin, friendBaseOrigin, portraitSize)\n    )\n  );\n\n  return {userOrigin$, friendOrigins$};\n}\n\nfunction Friends(props) {\n  const {\n    friends,\n    portraitSize,\n    offsetHeight,\n    scrollerNode,\n    userPosition\n  } = props;\n  const [streams, setStreams] = useState(undefined);\n\n  useEffect(() => setStreams(createStreams(props)), [...Object.values(props)]);\n  useScrollToBottom(scrollerNode, [streams]);\n\n  if (!streams) return null;\n  const {userOrigin$, friendOrigins$} = streams;\n\n  return (\n    <div>\n      {friends.map((friend, i) => {\n        const friendOrigin$ = friendOrigins$.map(\n          friendOrigins => friendOrigins[i]\n        );\n\n        return (\n          <Fragment key={friend.id}>\n            <UserFriend\n              className={cs.friend}\n              friend={friend}\n              friendOrigin$={friendOrigin$}\n              portraitSize={portraitSize}\n              userOrigin$={userOrigin$}\n              userPosition={userPosition}\n            />\n            <Line\n              debug={i === 0}\n              hideOffsetBottom={offsetHeight - portraitSize / 2}\n              hideOffsetTop={userPosition.bottom + portraitSize}\n              sourceOrigin$={userOrigin$}\n              style={{\n                left: '50%',\n                bottom: userPosition.bottom + portraitSize / 2\n              }}\n              targetOrigin$={friendOrigin$}\n            />\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n}\n\nFriends.propTypes = propTypes;\nFriends.defaultProps = defaultProps;\nexport default Friends;\n","import {useEffect} from 'react';\n\nexport default function useScrollToBottom(node, dependencies = []) {\n  useEffect(() => {\n    // When pressing refresh, browsers like Chrome will try\n    // to restore the previous scroll position. Wait until\n    // that has happened before scrolling to the bottom.\n    const timeoutId = setTimeout(() => {\n      node.scrollTop = node.scrollHeight;\n    }, 50);\n\n    return () => clearTimeout(timeoutId);\n  }, dependencies);\n}\n","import React, {Fragment, useRef} from 'react';\nimport PropTypes from 'prop-types';\nimport useWindowSize from '../hooks/useWindowSize';\nimport useNodeSize from '../hooks/useNodeSize';\nimport Friends from './Friends';\nimport Person from './Person';\nimport cs from './App.module.css';\n\nconst propTypes = {\n  friends: PropTypes.array.isRequired,\n  portraitSize: PropTypes.number,\n  user: PropTypes.object.isRequired,\n  userBottomMargin: PropTypes.number\n};\n\nconst defaultProps = {\n  portraitSize: 80,\n  userBottomMargin: 40\n};\n\nfunction App({friends, portraitSize, user, userBottomMargin}) {\n  const rootRef = useRef(null);\n  const windowSize = useWindowSize();\n  const rootSize = useNodeSize(rootRef);\n  const hasLayout = rootRef.current != null;\n\n  let userPosition;\n  if (hasLayout) {\n    userPosition = {\n      left: rootSize.offsetWidth / 2 - portraitSize / 2,\n      bottom: userBottomMargin\n    };\n  }\n\n  return (\n    <div\n      className={cs.root}\n      ref={rootRef}\n      style={{height: windowSize.innerHeight}}\n    >\n      {hasLayout && (\n        <Fragment>\n          <Friends\n            friends={friends}\n            offsetHeight={windowSize.innerHeight}\n            offsetWidth={rootSize.offsetWidth}\n            portraitSize={portraitSize}\n            scrollerNode={rootRef.current}\n            userPosition={userPosition}\n          />\n          <Person\n            className={cs.user}\n            portrait={user.portrait}\n            size={portraitSize}\n            style={{\n              bottom: userPosition.bottom,\n              left: (windowSize.innerWidth - portraitSize) / 2\n            }}\n          />\n        </Fragment>\n      )}\n    </div>\n  );\n}\n\nApp.propTypes = propTypes;\nApp.defaultProps = defaultProps;\nexport default App;\n","const friendImages = [\n  require('./faces/image-2.png'),\n  require('./faces/image-3.png'),\n  require('./faces/image-4.png'),\n  require('./faces/image-5.png'),\n  require('./faces/image-6.png'),\n  require('./faces/image-7.png'),\n  require('./faces/image-8.png'),\n  require('./faces/image-9.png'),\n  require('./faces/image-10.png'),\n  require('./faces/image-11.png')\n];\n\nexport default {\n  user: {\n    portrait: require('./faces/image-1.png')\n  },\n\n  friends: Array(30)\n    .fill(null)\n    .map((_, i) => ({\n      id: i,\n      portrait: friendImages[i % friendImages.length]\n    }))\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport data from './data';\nimport './index.css';\n\nconst element = <App {...data} />;\nconst node = document.getElementById('root');\nReactDOM.createRoot(node).render(element);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"App_root__3wy81\",\"user\":\"App_user__bPXfM\"};"],"sourceRoot":""}